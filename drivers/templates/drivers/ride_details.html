{% extends 'users/base.html' %}
{% load static %}
{% load humanize %}
{% block title %} Available Driver {% endblock %}

{% block content %}
<br>
<div class="container mt-2">
    <div class="row">
        <div class="col-lg-8">
            <div class="box-element">
                <h4><b>Ride Details</b></h4>
                <table class="table table-hover">
                    <thead style="background-color: #f8f9fa;font-size: 13px">
                    <tr>
                        <th>Ride ID</th>
                        <th>User</th>
                        <th>Driver</th>
                        <th>Origin</th>
                        <th>Destination</th>
                        <th>Status</th>
                    </tr>
                    </thead>
                    {% if ride %}
                    <tbody>
                    <tr class="p-1">
                        <td class="d-block">
                            {{ ride.id }}
                            <br>
                        </td>
                        <td>
                            {{ ride.user.username }}
                        </td>
                        <td>
                            {{ ride.driver.user}}
                        </td>
                        <td>
                            {{ ride.start_location }}
                        </td>
                        <td>
                            {{ ride.end_location }}
                        </td>
                        <td>
                            {{ ride.status }}
                        </td>
                    </tr>
                    </tbody>
                    {% else %}
                    <p>Invalid ride ID or ride not found.</p>
                    {% endif %}
                </table>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="box-element">
                <h4><b>Previous trips</b></h4>
                <hr>
                {% for ride in ride_history %}
                <a class="text-decoration-none text-dark" href="{{ride.get_absolute_url}}">
                    <div class="row">
                        <div class="col">
                            <div class="media">
                                <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" fill="currentColor"
                                     class="bi bi-truck-front-fill mt-2" viewBox="0 0 16 16">
                                    <path d="M3.5 0A2.5 2.5 0 0 0 1 2.5v9c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2v-9A2.5 2.5 0 0 0 12.5 0zM3 3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.9c0 .625-.562 1.092-1.17.994C10.925 7.747 9.208 7.5 8 7.5s-2.925.247-3.83.394A1.008 1.008 0 0 1 3 6.9zm1 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2m8 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2m-5-2h2a1 1 0 1 1 0 2H7a1 1 0 1 1 0-2"/>
                                </svg>
                                <div class="media-body ml-2">
                                    <b>{{ride.end_location}}</b>
                                    <div>
                                        <small>{{ride.start_time}}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto">
                            <b>â‚¦{{ride.fare|intcomma}}</b>
                        </div>
                    </div>
                </a>

                <hr>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}